# Лабораторная работа №4 "Архитектура сети"

### **Задание:**
  1. Разработать и задокументировать адресное пространство для лабораторного стенда.
  2. Настроить ip адреса на каждом активном порту
  3. Настроить каждый VPC в каждом офисе в своем VLAN.
  4. Настроить VLAN/Loopbackup interface управления для сетевых устройств.
  5. Настроить сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано.

### **Решение:**
  1. [Разработаем и задокументируем адресное пространство для лабораторного стенда.](#title1)
  2. [Настроим ip адреса на каждом активном порту.](#title2)
  3. [Настроим каждый VPC в каждом офисе в своем VLAN.](#title3)
  4. [Настроим VLAN/Loopbackup interface управления для сетевых устройств.](#title4)
  5. [Настроим сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано.](#title5)

#### <a id=title1> 1. Разработаем и задокументируем адресное пространство для лабораторного стенда.</a>
  Схема сети:
  
  ![Схема сети](https://github.com/MIranaNightshade/otus-networks/blob/main/lab4/jpeg/%D1%81%D1%85%D0%B5%D0%BC%D0%B0%20%D1%81%D0%B5%D1%82%D0%B8.png) 
  
  
  Будем использовать следующие подсети: 
  Суммарные подсети для управления и loopback итерфейсов 10.5.0.0/21, для линков между роутерами (кроме провайдеров Киторн, Ламас, Триада и линков к провайдерам) 10.7.0.0/21, разделим эти подсети на /24 таким образом,
     чтобы третий октет соотвествовал разным локациям по следующему принципу: 0 - Москва, 1 - Киторн, 2 - Ламас, 3 - Триада, 4 - Лабытнанги, 5 - Чокурдах, 6 - С.Петербург. Для хостов используем подсеть 172.16.0.0/12,
     разобем ее на подсети /24 для хостов в Москве 172.16.0.0/24, 172.17.0.0/24; для хостов в С.Петербурге 172.18.0.0/24, 172.19.0.0/24; для хостов в Чокурдахе 172.20.0.0/24, 172.21.0.0/24. Последний октет для всех
     будет соответствовать порядковому номеру устройства на схеме сети.     
  
  Общая таблица сетей:
  | LOCATION | NETWORK MANAGEMENT/LOOPBACK  | ROUTER'S LINKS | HOSTS NETWORKS |
  |----------| -------------------------| ---------------| -------------|
  | Москва  | 10.5.0.0/24                | 10.7.0.0/24    |172.16.0.0/24, 172.17.0.0/24 |
  | Киторн | 10.5.1.0/24 | 10.7.1.0/24 | 176.30.30.0/24 | NOT USED |
  | Ламас | 10.5.2.0/24 | 10.7.2.0/24 | 213.30.30.0/24 | NOT USED |
   | Триада | 10.5.3.0/24 | 10.7.3.0/24 | 94.30.30.0/24 | NOT USED |
   | Лабытнинги | 10.5.4.0/24 | 10.7.4.0/24 |  NOT USED |
   | Чокурдах | 10.5.5.0/24 | 10.7.5.0/24 | 172.20.0.0/24, 172.21.0.0/24 |  
  | С.Петербург | 10.5.6.0/24 | 10.7.6.0/24 |   172.18.0.0/24, 172.19.0.0/24 |

  Таблица выделенных адресов маршрутизаторов: 
  | Equip | Loopback address |  Port | Address | Network | Direction | 
  | ----- | -----------| ------| ----    |  ---    | --------- | 
  | R12 | 10.5.0.12/32 | e0/0 | 10.7.0.1/30| 10.7.0.0/30| to SW4|
  | R12 | 10.5.0.12/32 | e0/1 |
  | R12 | 10.5.0.12/32 | e0/2 |
  | R12 | 10.5.0.12/32 | e0/3 |
  | R13 | 10.5.0.13/32 |
  | R13 | 10.5.0.13/32 |
  | R13 | 10.5.0.13/32 |
  | R13 | 10.5.0.13/32 |
  | R14 | 10.5.0.14/32 |
  | R14 | 10.5.0.14/32 |
  | R14 | 10.5.0.14/32 |
  | R14 | 10.5.0.14/32 |
  | R15 | 10.5.0.15/32 |
  | R15 | 10.5.0.15/32 |
  | R15 | 10.5.0.15/32 |
  | R15 | 10.5.0.15/32 |
  | R16 | 10.5.6.16/32 |
  | R16 | 10.5.6.16/32 |
  | R16 | 10.5.6.16/32 |
  | R16 | 10.5.6.16/32 |
  | R17 | 10.5.6.17/32 |
  | R17 | 10.5.6.17/32 |
  | R17 | 10.5.6.17/32 |
  | R18 | 10.5.6.18/32 |
  | R18 | 10.5.6.18/32 |
  | R18 | 10.5.6.18/32 |
  | R18 | 10.5.6.18/32 |
  | R19 | 10.5.0.19/32 |
  | R20 | 10.5.0.20/32 |
  | R21 | 10.5.2.21/32 |
  | R21 | 10.5.2.21/32 |
  | R21 | 10.5.2.21/32 |
  | R22 | 10.5.1.22/32 |
  | R22 | 10.5.1.22/32 |
  | R22 | 10.5.1.22/32 |
  | R23 | 10.5.3.23/32 |
  | R23 | 10.5.3.23/32 |
  | R23 | 10.5.3.23/32 |
  | R24 | 10.5.3.24/32 |
  | R24 | 10.5.3.24/32 |
  | R24 | 10.5.3.24/32 |
  | R24 | 10.5.3.24/32 |
  | R25 | 10.5.3.25/32 |
  | R25 | 10.5.3.25/32 |
  | R25 | 10.5.3.25/32 |
  | R25 | 10.5.3.25/32 |
  | R26 | 10.5.3.26/32 |
  | R26 | 10.5.3.26/32 |
  | R26 | 10.5.3.26/32 |
  | R26 | 10.5.3.26/32 |
  | R27 | 10.5.4.27/32 |
  | R28 | 10.5.5.28/32 |
  | R28 | 10.5.5.28/32 |
  | R28 | 10.5.5.28/32 |
  | R32 | 10.5.6.32/32 |
  | SW4 | -            | e1/0| 10.7.0.2/30| 10.7.0.0/30| to R12|
  | SW4 | - |
  | SW5 | - |
  | SW5 | - |
